{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3;import styled from\"styled-components\";import{useDispatch,useSelector}from\"react-redux\";import{useState}from\"react\";import{PrimaryButton}from\"./CommonStyled\";import{productsCreate}from\"../../features/productsSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CreateProduct=function CreateProduct(){var dispatch=useDispatch();//hook, it seems to call upon a function\nvar _useSelector=useSelector(function(state){return state.products;}),createStatus=_useSelector.createStatus;//When creating a product our initial states are empty\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),productImg=_useState2[0],setProductImg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),desc=_useState8[0],setDesc=_useState8[1];console.log(productImg);//Uploads image\nvar handleProductImageUpload=function handleProductImageUpload(e){var file=e.target.files[0];TransformFile(file);};//Transforms an uploaded file \nvar TransformFile=function TransformFile(file){var reader=new FileReader();if(file){reader.readAsDataURL(file);reader.onloadend=function(){setProductImg(reader.result);};}else{setProductImg(\"\");}};//Submits an Image\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch(productsCreate({name:name,price:price,desc:desc,image:productImg}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();//Form that takes in all input fields.\nreturn/*#__PURE__*/_jsxs(StyledCreateProduct,{children:[/*#__PURE__*/_jsxs(StyledForm,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create a Product\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"Image/\",onChange:handleProductImageUpload,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",onChange:function onChange(e){return setName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Price\",onChange:function onChange(e){return setPrice(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description\",onChange:function onChange(e){return setDesc(e.target.value);},required:true}),/*#__PURE__*/_jsx(PrimaryButton,{type:\"submit\",children:createStatus===\"pending\"?\"Submitting\":\"Submit\"})]}),/*#__PURE__*/_jsx(ImagePreview,{children:productImg?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:productImg,alt:\"productimage\"})}):/*#__PURE__*/_jsx(\"p\",{children:\"Image preview\"})})]});};export default CreateProduct;//Styling for Product\nvar StyledCreateProduct=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n\"])));//Styling for Form\nvar StyledForm=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    max-width: 300px;\\n    margin-top: 2rem;\\n    select,\\n    input{\\n        padding: 7px;\\n        min-height: 30px;\\n        outline: none;\\n        border-radius: 5px;\\n        border: 3px solid rgb(182,182,182);\\n    }\\n\"])));var ImagePreview=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    margin: 2rem 0 2rem 2rem;\\n    padding: 2rem;\\n    border: 1px solid rgb(183,183,183);\\n    max-width: 300px;\\n    width: 100%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 2rem;\\n    color: rgb(78,78,78);\\n    img{\\n        max-width:100%;\\n    }\\n\"])));","map":{"version":3,"names":["styled","useDispatch","useSelector","useState","PrimaryButton","productsCreate","CreateProduct","dispatch","state","products","createStatus","productImg","setProductImg","name","setName","price","setPrice","desc","setDesc","console","log","handleProductImageUpload","e","file","target","files","TransformFile","reader","FileReader","readAsDataURL","onloadend","result","handleSubmit","preventDefault","image","value","StyledCreateProduct","div","StyledForm","ImagePreview"],"sources":["/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/src/components/admin/CreateProduct.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { PrimaryButton } from \"./CommonStyled\";\nimport { productsCreate } from \"../../features/productsSlice\";\n\n\n\nconst CreateProduct = () => {\n    const dispatch = useDispatch();//hook, it seems to call upon a function\n    const { createStatus } = useSelector((state) => state.products);\n\n    //When creating a product our initial states are empty\n    const [productImg, setProductImg] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [price, setPrice] = useState(\"\");\n    const [desc, setDesc] = useState(\"\");\n\n    console.log(productImg);\n    \n    //Uploads image\n    const handleProductImageUpload = (e) => {\n        const file = e.target.files[0];\n        TransformFile(file);\n    };\n    //Transforms an uploaded file \n    const TransformFile = (file) => {\n        const reader = new FileReader();\n\n        if(file){\n            reader.readAsDataURL(file);\n            reader.onloadend = () => {\n                setProductImg(reader.result); \n            };\n        }\n        else {\n            setProductImg(\"\");\n        }\n    };\n    //Submits an Image\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        dispatch(productsCreate({\n            name,\n            price,\n            desc,\n            image: productImg\n        }));\n    };\n\n    //Form that takes in all input fields.\n    return ( \n    <StyledCreateProduct>\n        <StyledForm onSubmit={handleSubmit}>\n            <h3>Create a Product</h3>\n            <input type=\"file\" accept = \"Image/\" onChange={handleProductImageUpload} required/>\n            {/*<select onChange ={(e) => setName(e.target.value)}>\n                <option value =\"\">Select Name</option>\n                <option value =\"iphone\">iPhone</option>\n                <option value =\"Samsung\">Samsung</option>\n                <option value =\"Google\">Google</option>\n                <option value =\"other\">Other</option>\n            </select>*//*COOL CODE --> It allows you to make a select box, in this case you could select a brand of the given options*/} \n            <input type=\"text\" placeholder=\"Name\" onChange={(e) => setName(e.target.value)} required/>\n            <input type=\"text\" placeholder=\"Price\" onChange={(e) => setPrice(e.target.value)} required/>\n            <input type=\"text\" placeholder=\"Description\" onChange={(e) => setDesc(e.target.value)} required/>\n            <PrimaryButton type = \"submit\">{createStatus === \"pending\" ? \"Submitting\" : \"Submit\"}</PrimaryButton>\n        </StyledForm>\n        <ImagePreview>\n            {productImg ?\n            <>\n                <img src = {productImg} alt = \"productimage\"></img>\n            </>\n                 : (<p>Image preview</p>)\n            }\n        </ImagePreview>\n    </StyledCreateProduct> \n    );\n};\n \nexport default CreateProduct;\n\n//Styling for Product\n\nconst StyledCreateProduct = styled.div`\n    display: flex;\n    justify-content: space-between;\n`;\n//Styling for Form\nconst StyledForm = styled.div`\n    display: flex;\n    flex-direction: column;\n    max-width: 300px;\n    margin-top: 2rem;\n    select,\n    input{\n        padding: 7px;\n        min-height: 30px;\n        outline: none;\n        border-radius: 5px;\n        border: 3px solid rgb(182,182,182);\n    }\n`;\n\nconst ImagePreview = styled.div`\n    margin: 2rem 0 2rem 2rem;\n    padding: 2rem;\n    border: 1px solid rgb(183,183,183);\n    max-width: 300px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 2rem;\n    color: rgb(78,78,78);\n    img{\n        max-width:100%;\n    }\n`;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from'axios';import{useSelector}from'react-redux';import{url}from'../features/api';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PayButton=function PayButton(_ref){var cartItems=_ref.cartItems;var user=useSelector(function(state){return state.auth;});var handleCheckout=function handleCheckout(){axios.post(\"\".concat(url,\"/stripe/create-checkout-session\"),{cartItems:cartItems,userId:user._id}).then(function(res){if(res.data.url){window.location.href=res.data.url;}}).catch(function(err){return console.log(err.message);});//this is now our endpoint\n};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleCheckout();},children:\"Check Out \"})});};export default PayButton;","map":{"version":3,"names":["axios","useSelector","url","PayButton","cartItems","user","state","auth","handleCheckout","post","userId","_id","then","res","data","window","location","href","catch","err","console","log","message"],"sources":["/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/src/components/PayButton.jsx"],"sourcesContent":["import axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport {url} from '../features/api';\n\nconst PayButton = ({cartItems}) => {\n\n    const user = useSelector((state) => state.auth)\n\n    const handleCheckout = () => {\n        axios\n        .post(`${url}/stripe/create-checkout-session`, \n        {\n            cartItems,\n            userId: user._id\n        })\n        .then((res) => {\n            if(res.data.url){\n                window.location.href = res.data.url\n            }\n        })\n        .catch((err) => console.log(err.message)); //this is now our endpoint\n    };\n\n    return ( \n        <>\n        <button onClick = {() => handleCheckout()}>Check Out </button>\n        </>\n     );\n};\n \nexport default PayButton;"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAAQC,GAAR,KAAkB,iBAAlB,C,gGAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAiB,IAAfC,UAAe,MAAfA,SAAe,CAE/B,GAAMC,KAAI,CAAGJ,WAAW,CAAC,SAACK,KAAD,QAAWA,MAAK,CAACC,IAAjB,EAAD,CAAxB,CAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CACzBR,KAAK,CACJS,IADD,WACSP,GADT,oCAEA,CACIE,SAAS,CAATA,SADJ,CAEIM,MAAM,CAAEL,IAAI,CAACM,GAFjB,CAFA,EAMCC,IAND,CAMM,SAACC,GAAD,CAAS,CACX,GAAGA,GAAG,CAACC,IAAJ,CAASZ,GAAZ,CAAgB,CACZa,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBJ,GAAG,CAACC,IAAJ,CAASZ,GAAhC,CACH,CACJ,CAVD,EAWCgB,KAXD,CAWO,SAACC,GAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB,CAAT,EAXP,EAW2C;AAC9C,CAbD,CAeA,mBACI,sCACA,eAAQ,OAAO,CAAI,yBAAMd,eAAc,EAApB,EAAnB,wBADA,EADJ,CAKH,CAxBD,CA0BA,cAAeL,UAAf"},"metadata":{},"sourceType":"module"}
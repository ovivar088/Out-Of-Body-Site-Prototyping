{"ast":null,"code":"import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import{clearCart,addToCart,decreaseCart,removeFromCart,getTotals}from\"../features/cartSlice\";import PayButton from\"./PayButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var _cart$cartItems;var cart=useSelector(function(state){return state.cart;});var auth=useSelector(function(state){return state.auth;});var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){dispatch(getTotals());},[cart,dispatch]);//cart is our state or dependency\nvar handleRemoveFromCart=function handleRemoveFromCart(cartItem){dispatch(removeFromCart(cartItem));};var handleDecreaseCart=function handleDecreaseCart(cartItem){dispatch(decreaseCart(cartItem));};var handleIncreaseCart=function handleIncreaseCart(cartItem){dispatch(addToCart(cartItem));};var handleClearCart=function handleClearCart(){dispatch(clearCart());};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Shopping Cart\"}),cart.cartItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"cart-empty\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is currently empty\"}),/*#__PURE__*/_jsx(\"div\",{className:\"start-shopping\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Start Shopping\"})]})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"titles\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:\"Product\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"total\",children:\"Total\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:(_cart$cartItems=cart.cartItems)===null||_cart$cartItems===void 0?void 0:_cart$cartItems.map(function(cartItem){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product\",children:[/*#__PURE__*/_jsx(\"img\",{src:cartItem.image.url,alt:cartItem.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:cartItem.name}),/*#__PURE__*/_jsx(\"p\",{children:cartItem.desc}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleRemoveFromCart(cartItem);},children:\"Remove\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-price\",children:[\"$\",cartItem.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDecreaseCart(cartItem);},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"count\",children:cartItem.cartQuantity}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleIncreaseCart(cartItem);},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-product-total-price\",children:[\"$\",cartItem.price*cartItem.cartQuantity]})]},cartItem._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"clear-cart\",onClick:function onClick(){return handleClearCart();},children:\"Clear Cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-checkout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"subtotal\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount\",children:[\"$\",cart.cartTotalAmount]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Taxes and Shipping Calculated at Checkout\"}),auth._id?/*#__PURE__*/_jsx(PayButton,{cartItems:cart.cartItems}):/*#__PURE__*/_jsx(\"button\",{className:\"cart-login\",onClick:function onClick(){return navigate(\"/login\");},children:\"Login to Check Out\"}),/*#__PURE__*/_jsx(\"div\",{className:\"continue-shopping\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"currentColor\",className:\"bi bi-arrow-left\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Continue Shopping\"})]})})]})]})]})]});};export default Cart;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","Link","useNavigate","clearCart","addToCart","decreaseCart","removeFromCart","getTotals","PayButton","Cart","cart","state","auth","dispatch","navigate","handleRemoveFromCart","cartItem","handleDecreaseCart","handleIncreaseCart","handleClearCart","cartItems","length","map","image","url","name","desc","price","cartQuantity","_id","cartTotalAmount"],"sources":["/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/src/components/Cart.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { clearCart, addToCart, decreaseCart, removeFromCart, getTotals } from \"../features/cartSlice\";\nimport PayButton from \"./PayButton\";\n\nconst Cart = () => {\n    const cart = useSelector((state) => state.cart);\n    const auth = useSelector((state) => state.auth);\n    \n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    \n    useEffect(() => {\n        dispatch(getTotals());\n    }, [cart, dispatch]) //cart is our state or dependency\n\n    const handleRemoveFromCart = (cartItem) => {\n        dispatch(removeFromCart(cartItem));\n    };\n\n    const handleDecreaseCart = (cartItem) => {\n        dispatch(decreaseCart(cartItem))\n    };\n\n    const handleIncreaseCart = (cartItem) => {\n        dispatch(addToCart(cartItem))\n    };\n\n    const handleClearCart = () => {\n        dispatch(clearCart());\n    };\n    \n\n    return (<div className=\"cart-container\">\n        <h2> Shopping Cart</h2>\n        { cart.cartItems.length === 0 ? (\n            <div className=\"cart-empty\">\n                <p>Your cart is currently empty</p>\n                <div className=\"start-shopping\">\n                    <Link to = \"/\">\n                    <svg \n                        xmlns=\"http://www.w3.org/2000/svg\" \n                        width=\"20\" \n                        height=\"20\" \n                        fill=\"currentColor\" \n                        className=\"bi bi-arrow-left\" \n                        viewBox=\"0 0 16 16\"\n                    >\n                        <path \n                            fillRule=\"evenodd\" \n                            d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\n                        />\n                    </svg>\n                        <span>Start Shopping</span>\n                    </Link>\n                </div>\n            </div>\n        ) : (\n                <div>\n                    <div className=\"titles\">\n                        <h3 className =\"product-title\">Product</h3>\n                        <h3 className = \"price\">Price</h3>\n                        <h3 className=\"quantity\">Quantity</h3>\n                        <h3 className=\"total\">Total</h3>\n                    </div>\n                    <div className=\"cart-items\">\n                        {cart.cartItems?.map(cartItem => (\n                            <div className=\"cart-item\" key = {cartItem._id}>\n                                <div className=\"cart-product\">\n                                    <img src={cartItem.image.url} alt={cartItem.name} />\n                                    <div>\n                                        <h3>{cartItem.name}</h3>\n                                        <p>{cartItem.desc}</p>\n                                        <button onClick = {() => handleRemoveFromCart(cartItem)}>Remove</button>\n                                    </div>\n                                </div>\n                                <div className=\"cart-product-price\">${cartItem.price}</div>\n                                <div className=\"cart-product-quantity\">\n                                    <button onClick ={() => handleDecreaseCart(cartItem)}>-</button>\n                                    <div className=\"count\">{cartItem.cartQuantity}</div>\n                                    <button onClick={() => handleIncreaseCart(cartItem)}>+</button>\n                                </div>\n                                <div className=\"cart-product-total-price\">\n                                    ${cartItem.price * cartItem.cartQuantity}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                    <div className=\"cart-summary\">\n                        <button className=\"clear-cart\" onClick = {() => handleClearCart()}>Clear Cart</button>\n                        <div className=\"cart-checkout\">\n                            <div className=\"subtotal\">\n                                <span>Subtotal</span>\n                                <span className = \"amount\">${cart.cartTotalAmount}</span>\n                            </div>\n                            <p>Taxes and Shipping Calculated at Checkout</p>\n                            {auth._id ? \n                            (<PayButton cartItems = {cart.cartItems}/>) \n                            : (<button className=\"cart-login\" onClick={() => navigate(\"/login\")}>Login to Check Out</button>)}\n                            <div className=\"continue-shopping\">\n                                <Link to = \"/\">\n                                <svg \n                                    xmlns=\"http://www.w3.org/2000/svg\" \n                                    width=\"20\" \n                                    height=\"20\" \n                                    fill=\"currentColor\" \n                                    className=\"bi bi-arrow-left\" \n                                    viewBox=\"0 0 16 16\"\n                                >\n                                    <path \n                                        fillRule=\"evenodd\" \n                                        d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\n                                    />\n                                </svg>\n                                    <span>Continue Shopping</span>\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n    </div> \n    )\n};\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
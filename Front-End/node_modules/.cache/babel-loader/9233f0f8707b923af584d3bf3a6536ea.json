{"ast":null,"code":"import _objectSpread from\"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{registerUser}from\"../../features/authSlice\";import{StyledForm}from\"./Styledform\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var dispatch=useDispatch();var navigate=useNavigate();var auth=useSelector(function(state){return state.auth;});console.log(auth);useEffect(function(){if(auth._id){//if the person is logged in take person to cart\nnavigate(\"/cart\");}},[auth._id,navigate]);//dependencies\nvar _useState=useState({name:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];//we want to update this state down there vvv --- onchange event\n//console.log(\"user: \",user)\nvar handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(registerUser(user));//now when we submit the form we are dispatching the backend function registerUser , save database, add token\n};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(StyledForm,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"name\",onChange:function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},{name:e.target.value}));}//this is how we are updating the name\n}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"email\",onChange:function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",onChange:function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{children:auth.registerUser===\"rejected\"?/*#__PURE__*/_jsx(\"p\",{children:auth.registerError}):null})]})});};export default Register;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","useNavigate","registerUser","StyledForm","Register","dispatch","navigate","auth","state","console","log","_id","name","email","password","user","setUser","handleSubmit","e","preventDefault","target","value","registerError"],"sources":["/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/src/components/auth/Register.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { registerUser } from \"../../features/authSlice\";\nimport { StyledForm } from \"./Styledform\";\n\nconst Register = () => {\n    \n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const auth = useSelector((state) => state.auth);\n    \n    console.log(auth);\n\n    useEffect(() => {\n        if(auth._id){ //if the person is logged in take person to cart\n            navigate(\"/cart\")\n        }\n    }, [auth._id, navigate]); //dependencies\n\n    const [user, setUser] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n    }) //we want to update this state down there vvv --- onchange event\n    \n    //console.log(\"user: \",user)\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        dispatch(registerUser(user)) //now when we submit the form we are dispatching the backend function registerUser , save database, add token\n    };\n\n    return ( \n    <>\n    <StyledForm onSubmit = {handleSubmit}>\n        <h2>Register</h2>\n        <input\n            type=\"text\" \n            placeholder=\"name\" \n            onChange = {(e) => setUser({...user, name: e.target.value})} //this is how we are updating the name\n        />\n        <input \n            type=\"email\" \n            placeholder=\"email\" \n            onChange = {(e) => setUser({...user, email: e.target.value})}\n        /> \n        <input \n            type=\"password\" \n            placeholder=\"password\" \n            onChange = {(e) => setUser({...user, password: e.target.value})}\n        />\n        <button>Register</button>\n        <p>{auth.registerUser === \"rejected\" ? (\n            <p>{auth.registerError}</p>\n        ) : null}</p>\n    </StyledForm>\n    </>\n    );\n};\nexport default Register;"],"mappings":"2TAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,OAASC,UAAT,KAA2B,cAA3B,C,6IAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAEnB,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,KAAI,CAAGP,WAAW,CAAC,SAACQ,KAAD,QAAWA,MAAK,CAACD,IAAjB,EAAD,CAAxB,CAEAE,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAEAT,SAAS,CAAC,UAAM,CACZ,GAAGS,IAAI,CAACI,GAAR,CAAY,CAAE;AACVL,QAAQ,CAAC,OAAD,CAAR,CACH,CACJ,CAJQ,CAIN,CAACC,IAAI,CAACI,GAAN,CAAWL,QAAX,CAJM,CAAT,CAI0B;AAE1B,cAAwBT,QAAQ,CAAC,CAC7Be,IAAI,CAAE,EADuB,CAE7BC,KAAK,CAAE,EAFsB,CAG7BC,QAAQ,CAAE,EAHmB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAIG;AAEH;AAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAd,QAAQ,CAACH,YAAY,CAACa,IAAD,CAAb,CAAR,CAA6B;AAChC,CAHD,CAKA,mBACA,sCACA,MAAC,UAAD,EAAY,QAAQ,CAAIE,YAAxB,wBACI,gCADJ,cAEI,cACI,IAAI,CAAC,MADT,CAEI,WAAW,CAAC,MAFhB,CAGI,QAAQ,CAAI,kBAACC,CAAD,QAAOF,QAAO,gCAAKD,IAAL,MAAWH,IAAI,CAAEM,CAAC,CAACE,MAAF,CAASC,KAA1B,GAAd,EAAiD;AAHjE,EAFJ,cAOI,cACI,IAAI,CAAC,OADT,CAEI,WAAW,CAAC,OAFhB,CAGI,QAAQ,CAAI,kBAACH,CAAD,QAAOF,QAAO,gCAAKD,IAAL,MAAWF,KAAK,CAAEK,CAAC,CAACE,MAAF,CAASC,KAA3B,GAAd,EAHhB,EAPJ,cAYI,cACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,UAFhB,CAGI,QAAQ,CAAI,kBAACH,CAAD,QAAOF,QAAO,gCAAKD,IAAL,MAAWD,QAAQ,CAAEI,CAAC,CAACE,MAAF,CAASC,KAA9B,GAAd,EAHhB,EAZJ,cAiBI,oCAjBJ,cAkBI,mBAAId,IAAI,CAACL,YAAL,GAAsB,UAAtB,cACA,mBAAIK,IAAI,CAACe,aAAT,EADA,CAEA,IAFJ,EAlBJ,GADA,EADA,CA0BH,CArDD,CAsDA,cAAelB,SAAf"},"metadata":{},"sourceType":"module"}
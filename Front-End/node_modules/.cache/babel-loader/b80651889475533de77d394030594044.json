{"ast":null,"code":"var _jsxFileName = \"/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/src/components/PayButton.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { url } from '../features/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PayButton = _ref => {\n  _s();\n\n  let {\n    cartItems\n  } = _ref;\n  const user = useSelector(state => state.auth);\n\n  const handleCheckout = () => {\n    axios.post(`${url}/stripe/create-checkout-session`, {\n      cartItems,\n      userId: user._id\n    }).then(res => {\n      if (res.data.url) {\n        window.location.href = res.data.url;\n      }\n    }).catch(err => console.log(err.message)); //this is now our endpoint\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleCheckout(),\n      children: \"Check Out \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(PayButton, \"ODc3cjw/vvoWaLFqHWcEGODyOfo=\", false, function () {\n  return [useSelector];\n});\n\n_c = PayButton;\nexport default PayButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"PayButton\");","map":{"version":3,"names":["axios","useSelector","url","PayButton","cartItems","user","state","auth","handleCheckout","post","userId","_id","then","res","data","window","location","href","catch","err","console","log","message"],"sources":["/Users/lilosivert/Downloads/Code/React-Development/Online-Shop/Front-End/src/components/PayButton.jsx"],"sourcesContent":["import axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport {url} from '../features/api';\n\nconst PayButton = ({cartItems}) => {\n\n    const user = useSelector((state) => state.auth)\n\n    const handleCheckout = () => {\n        axios.post(`${url}/stripe/create-checkout-session`, \n        {\n            cartItems,\n            userId: user._id\n        }).then((res) => {\n            if(res.data.url){\n                window.location.href = res.data.url\n            }\n        }).catch((err) => console.log(err.message)); //this is now our endpoint\n    };\n\n    return ( \n        <>\n        <button onClick = {() => handleCheckout()}>Check Out </button>\n        </>\n     );\n};\n \nexport default PayButton;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAAQC,GAAR,QAAkB,iBAAlB;;;;AAEA,MAAMC,SAAS,GAAG,QAAiB;EAAA;;EAAA,IAAhB;IAACC;EAAD,CAAgB;EAE/B,MAAMC,IAAI,GAAGJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAAxB;;EAEA,MAAMC,cAAc,GAAG,MAAM;IACzBR,KAAK,CAACS,IAAN,CAAY,GAAEP,GAAI,iCAAlB,EACA;MACIE,SADJ;MAEIM,MAAM,EAAEL,IAAI,CAACM;IAFjB,CADA,EAIGC,IAJH,CAISC,GAAD,IAAS;MACb,IAAGA,GAAG,CAACC,IAAJ,CAASZ,GAAZ,EAAgB;QACZa,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,GAAG,CAACC,IAAJ,CAASZ,GAAhC;MACH;IACJ,CARD,EAQGgB,KARH,CAQUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB,CARlB,EADyB,CASoB;EAChD,CAVD;;EAYA,oBACI;IAAA,uBACA;MAAQ,OAAO,EAAI,MAAMd,cAAc,EAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADA,iBADJ;AAKH,CArBD;;GAAML,S;UAEWF,W;;;KAFXE,S;AAuBN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}